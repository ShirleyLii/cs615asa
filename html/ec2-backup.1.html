<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>man page(1) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>

<p>
<b>ec2-backup</b> -- backup a directory into Elastic Block Storage (EBS)

<p>
<h2><a name='sect1' href='#toc1'><b>Synopsis</b></a></h2>

<p>
<b>ec2-backup</b> [-<b>hv</b>] [-<b>i</b> <i>instance</i>] [-<b>m</b> <i>method</i>] -<b>d</b> <i>dir</i>

<p>
<h2><a name='sect2' href='#toc2'><b>Description</b></a></h2>

<p>
The <b>ec2-backup</b> tool performs a backup of the given directory into Amazon
Elastic Block Storage (EBS). This is achieved by creating a volume of
the appropriate size, attaching it to an EC2 instance and finally copying
the files from the given directory into this volume.

<p>
<h2><a name='sect3' href='#toc3'><b>Options</b></a></h2>

<p>
<b>ec2-backup</b> accepts the following command-line flags:

<p>
<dl>

<dt>-<b>h</b> </dt></dt>
<dd>          Print a usage statement and exit.

<p></dd>
</dl>
<p>
-<b>i</b> <i>instance</i> Attach the volume in question to the given instance.

<p>
<dl>

-<b>m</b> <i>method</i> </dt></dt>
<dd>   Use the given method to perform the backup. Valid methods
are 'dd' and 'rsync'; default is 'dd'.

<p></dd>

<p></dd>

<dt>-<b>v</b> </dt></dt>
<dd>          Be verbose. If not specified, <b>ec2-backup</b> will not generate
any output at all (unless an error is encountered).

<p></dd>
</dl>

<h2><a name='sect4' href='#toc4'><b>Details</b></a></h2>

<p>
<b>ec2-backup</b> will perform a backup of the given directory to an ESB volume.
The backup is done in one of two ways: via direct write to the volume
(utilizing <em>tar(1)</em>
 on the local host and <em>dd(1)</em>
 on the remote instance), or
via a (possibly incremental) filesystem sync (utilizing <em>rsync(1)</em>
).

<p><p>
<b>ec2-backup</b> will create a new volume, the size of which will be
at least two times the size of the directory to be backed up.

<p><p>
Unless an instance is given using the -<b>i</b> flag, <b>ec2-backup</b> will create an
instance suitable to perform the backup, attach the volume in question
and then back up the data from the given directory using the specified
method and then shut down the instance it created.

<p>
<h2><a name='sect5' href='#toc5'><b>Output</b></a></h2>

<p>
Unless the -<b>v</b> flag is given, <b>ec2-backup</b> will not generate any output
unless any errors are encountered. Otherwise, it may print out some useful information about what steps it is currently performing.


<p><p>
Any errors encountered cause a meaningful error message to be printed to
STDERR.

<p>
<h2><a name='sect6' href='#toc6'><b>Exit</b> <b>Status</b></a></h2>

<p>
The <b>ec2-backup</b> will exit with a return status of 0 under normal circumstances. If an error occurred, <b>ec2-backup</b> will exit with a value &gt;0.

<p>
<h2><a name='sect7' href='#toc7'><b>Examples</b></a></h2>

<p>
The following examples illustrate common usage of this tool.

<p><p>
To back up the entire filesystem using
<em>rsync(1)</em>
:

<p><p>
ec2-backup -m rsync -d /

<p><p>
To create a complete backup of the current working directory using
defaults:

<p><p>
ec2-backup -d .

<p>
<h2><a name='sect8' href='#toc8'><b>See</b> <b>Also</b></a></h2>

<p>
<em>dd(1)</em>
, <a href="ec2-start-instance.1.html">ec2-start-instance(1)</a>
, <em>tar(1)</em>
, <em>rsync(1)</em>


<p>
<h2><a name='sect9' href='#toc9'><b>History</b></a></h2>

<p>
<b>ec2-backup</b> was originally assigned by Jan Schaumann
&lt;jschauma@cs.stevens.edu&gt; as a homework assignment for the class &ldquo;Aspects
of System Administration&rdquo; at Stevens Institute of Technology in the
Spring of 2011.
<p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Options</a></li>
<li><a name='toc4' href='#sect4'>Details</a></li>
<li><a name='toc5' href='#sect5'>Output</a></li>
<li><a name='toc6' href='#sect6'>Exit Status</a></li>
<li><a name='toc7' href='#sect7'>Examples</a></li>
<li><a name='toc8' href='#sect8'>See Also</a></li>
<li><a name='toc9' href='#sect9'>History</a></li>
</ul>
</body>
</html>
